{% load staticfiles %}<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css"
	      rel="stylesheet">
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">

	<style type="text/css">
		body {
			padding: 0;
		}

		.media .pull-left {
			float: left;
			display: inline;
			margin-bottom: 0;
		}

		#container {
			margin: 0;
			padding: 0;
		}

		#container tbody td {
			padding: 0;
		}

		#stream {
			position: relative;
			width: 100%;
			overflow-x: hidden;
			overflow-y: scroll;
		}

		#stream li {
			padding: 8px;
			margin-top: 8px;
		}

		#stream img.lazy {
			display: none;
		}
	</style>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="//cdn.jsdelivr.net/jquery.lazyload/1.9.0/jquery.lazyload.min.js" type="text/javascript"></script>
</head>
<body>

<div class="row-fluid">

	<div class="span12">

		<table id="container" class="table table-bordered">
			<thead>
			<tr>
				<td><b>{% block widget_title %}{{ params.title|default:"Titolo widget" }}{% endblock %}</b></td>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>
					<div id="stream">
						{% block widget_content %}
						{% endblock widget_content %}
					</div>
				</td>
			</tr>
			</tbody>
			<tfoot>
			<tr>
				<td>
					<div class="pull-right">
						<a href="http://opencoesione.gov.it" class="muted" target="_blank">
							<i>Dati forniti da Opencoesione.gov.it</i></a></div>
					<div>{{ params.footer|default:"" }}</div>
				</td>
			</tr>
			</tfoot>
		</table>

	</div>

</div>

<script type="text/javascript">
	$(function () {
		var $container = $('#container'),
				$header = $container.find('thead'),
				$footer = $container.find('tfoot'),

				required_height = parseInt("{{ params.height|default:'400' }}", 10),
				header_height = $header.outerHeight(true),
				footer_height = $footer.outerHeight(true);

		$container.find('#stream').css({
			'height': required_height - header_height - footer_height - 3
		});

		$("img.lazy").show().lazyload({
			effect: "fadeIn",
			container: $("#stream")
		});

		$('abbr').tooltip();

	});
</script>
</body>
</html>